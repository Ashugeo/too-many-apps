!function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){function t(e){return parseInt(e.attr("pos"),10)}function n(e){var n=t(e);n>=24&&n<=27?e.css({left:n%4*p,top:"20px"}):e.css({left:n%4*p,top:Math.floor(n/4)*v})}function a(){if(P.addClass("group"),y=$(".dragging"),!P.find(".item-anim").attr("data-name")){var e=y.find(".icon").attr("data-cat");P.find(".item-anim").attr("data-name",e)}var a=y.find(".icon");a.attr("id",y.attr("id")),P.find(".item-anim").append(a),y.remove();for(var i=t(y),r=$(".item").length,o=i;o<=r;o+=1){var s=$(".screen#"+T+' .item[pos="'+o+'"]');if(0!==s.length){var c=t(s);s.attr("pos",c-1),n(s)}}}function i(e){$(".screen").each(function(t,n){$(n).css("left",100*(-e+t)+"%")}),$(".breadcrumb .dot.selected").removeClass("selected"),$(".breadcrumb .dot").eq(e).addClass("selected")}function r(){$(".screens").append('<div class="screen transition" id="'+b+'"><div class="apps"></div></div>'),b+=1,$(".breadcrumb").append('<div class="dot"></div>')}function o(){var e=0;for($(".screen").each(function(t,n){0===$(n).find(".item").length&&($(n).remove(),b-=1,e+=1),$(n).attr("id",t-e)});0===$(".screen#"+T+" .item").length;)T-=1;i(T),$(".breadcrumb").empty();for(var t=0;t<b;t+=1)$(".breadcrumb").append('<div class="dot"></div>');$(".breadcrumb .dot").eq(T).addClass("selected")}function s(e){y=!0,_=e.pageX-$(e.currentTarget)[0].getBoundingClientRect().left,z=e.pageY-$(e.currentTarget)[0].getBoundingClientRect().top,F=t($(e.currentTarget).closest(".item")),$(e.currentTarget).closest(".item").addClass("dragging"),$(".screen:last-child .item").length>0&&r()}function c(e){D=0===T&&e.pageX-k.left>A?.2:T===parseInt($(".screen:last-child").attr("id"),10)&&e.pageX-k.left<A?.2:1,$(".screen").each(function(t,n){var a=(e.pageX-k.left-A)*(1/f)*D;a+=x[t],$(n).css("left",a)})}function d(e,a){if(e&&null!==a){var i=parseInt(e.closest(".screen").attr("id"),10);i!==a&&(e.appendTo(".container"),e.addClass("swiping"),setTimeout(function(){var r=t(e),o=$(".screen#"+i+" .item").length;setTimeout(function(){for(var e=r;e<=o;e+=1){var a=$(".screen#"+i+' .item[pos="'+e+'"]');if(0!==a.length){var s=t(a);a.attr("pos",s-1),a.hasClass("dragging")||n(a)}}},300),e.attr("pos",$(".screen#"+a+" .item").length),e.removeClass("swiping"),e.appendTo(".screen#"+a+" .apps"),F=t($(".dragging"))},300))}}function u(e){var a=$(".dragging").closest(".screen").attr("id"),r=Math.round((e.pageX-k.left-_)*(1/f)),o=Math.round((e.pageY-k.top-z)*(1/f));$(".dragging").css({left:r,top:o});var s=(o+C)/v;s=Math.max(Math.floor(s),0);var c=e.pageX>Math.round(k.right),u=e.pageX<Math.round(k.left);c&&!I?(I=!0,O=setTimeout(function(){T+=1,T=Math.min(Math.max(T,0),b-1),i(T),d($(".dragging"),T),I=!1},500)):u&&!j?(j=!0,q=setTimeout(function(){T-=1,T=Math.min(Math.max(T,0),b-1),i(T),d($(".dragging"),T),j=!1},500)):c||u||(I=!1,j=!1,clearTimeout(O),clearTimeout(q)),$(".screen#"+a+" .item:not(.dragging)").each(function(e,i){var o=$(i),c=t(o),d=parseInt(o.css("left"),10),u=Math.floor(c/4),l=r>d+h&&F<c,g=r<d-h&&F>c;if(s===u&&(l||g)){var m=c-F,f=F,p=c;if(F>c)for(var v=f;v>=p;v-=1){var C=$(".screen#"+a+' .item[pos="'+v+'"]'),b=t(C);C.attr("pos",b+1),C.hasClass("dragging")||n(C)}else if(c>F)for(var T=f;T<=p;T+=1){var M=$(".screen#"+a+' .item[pos="'+T+'"]'),x=t(M);M.attr("pos",x-1),M.hasClass("dragging")||n(M)}F+=m,$(".dragging").attr("pos",F)}})}function l(e,t){var n=M[e+1].icons,a='<div id="'+n[t].id+'" pos="'+t+'" class="item anim" style="left:'+t%4*p+"px; top: "+Math.floor(t/4)*v+'px;"><div class="item-anim"><div class="icon" style="background-image: url(img/'+n[t].img+')" data-name="'+n[t].name+'" data-cat="'+n[t].cat+'"></div></div>';$(".screen#"+e+" .apps").append(a),t<n.length-1&&setTimeout(function(){l(e,t+1)},50),0===e&&t===n.length-1&&setTimeout(function(){$(".item.anim").removeClass("anim")},800)}function g(){for(var e=1;e<M.length;e+=1)l(e-1,0)}function m(){w=!1,y=!1,X=!1,x=[],n($(".dragging")),clearTimeout(B),$(".dragging").removeClass("dragging"),clearTimeout(R),P&&P.removeClass("highlight-group"),Y=!1,$(".open").removeClass("open"),$(".blur").removeClass("blur")}var f=.5,p=180,v=188,h=10,C=20,b=2,T=0,M=[],x=[],w=!1,y=!1,X=!1,I=!1,j=!1,k=void 0,B=void 0,R=void 0,O=void 0,q=void 0,P=void 0,Y=void 0,_=void 0,z=void 0,F=void 0,A=void 0,D=void 0;$(e.document).ready(function(){$(".phone").css("transform","scale("+f+")"),k=$(".apps")[0].getBoundingClientRect(),$.ajax({url:"apps.json",success:function(e){for(var t=e.screens[0].icons,n=0;n<t.length;n+=1)$(".dock .apps").append('<div id="'+t[n].id+'" pos="'+n+'" class="item anim" style="left:'+n%4*p+'px; top: 20px;"><div class="item-anim"><div class="icon" style="background-image: url(img/'+t[n].img+')" data-name="'+t[n].name+'" data-cat="'+t[n].cat+'"></div></div>');M=e.screens,g()}})}),$(e.window).on("resize",function(){k=$(".apps")[0].getBoundingClientRect()}),$(e.document).on("mousedown",".item",function(e){return w=!0,$(".container").hasClass("draggable")?s(e):B=setTimeout(function(){w&&($(".container").addClass("draggable"),s(e))},1e3),!1}),$(e.document).on("mousedown",".screens",function(e){A=Math.round(e.pageX-k.left),X=!0,$(".screen").removeClass("transition"),$(".screen").each(function(e,t){x.push(parseInt($(t).css("left"),10))})}),$(e.document).on("mouseup",function(){if(Y)a();else if(X){$(".screen").addClass("transition");var e=parseInt($(".screen#0").css("left"),10)-x[0];e>200?T-=1:e<-200&&(T+=1),T=Math.min(Math.max(T,0),b-1),i(T)}m()}),$(e.document).on("mouseenter",".item",function(e){y&&(R=setTimeout(function(){P=$(e.target).closest(".item"),P.addClass("highlight-group"),Y=!0},300))}),$(e.document).on("mouseleave",".item",function(e){var t=$(e.target).closest(".item");y&&!t.hasClass("dragging")&&(clearTimeout(R),P&&(P.removeClass("highlight-group"),Y=!1))}),$(e.document).on("click",".main-button",function(){o(),m(),$(".container").removeClass("draggable")}),$(e.document).on("click",".group",function(e){$(e.currentTarget).toggleClass("open"),$(".container img.bg").addClass("blur"),$(".item:not(.open)").each(function(e,t){$(t).addClass("blur")})}),$(e.document).on("mousemove",function(e){y?u(e):X&&c(e)})}).call(t,n(0))}]);