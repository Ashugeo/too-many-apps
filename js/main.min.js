!function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){function t(e){return parseInt(e.attr("pos"),10)}function n(e){var n=t(e);n>=24&&n<=27?e.css({left:n%4*g,top:"20px"}):e.css({left:n%4*g,top:Math.floor(n/4)*m})}function a(){if(B.addClass("group"),T=$(".dragging"),!B.find(".item-anim").attr("data-name")){var e=T.find(".icon").attr("data-cat");B.find(".item-anim").attr("data-name",e)}var a=T.find(".icon");a.attr("id",T.attr("id")),B.find(".item-anim").append(a),T.remove();for(var o=t(T),i=$(".item").length,r=o;r<=i;r+=1){var s=$(".screen#"+v+' .item[pos="'+r+'"]');if(0!==s.length){var c=t(s);s.attr("pos",c-1),n(s)}}}function o(e){T=!0,O=e.pageX-$(e.currentTarget)[0].getBoundingClientRect().left,P=e.pageY-$(e.currentTarget)[0].getBoundingClientRect().top,Y=t($(e.currentTarget).closest(".item")),$(e.currentTarget).closest(".item").addClass("dragging")}function i(e){q=0===v&&e.pageX-w.left>_?.2:1,$(".screen").each(function(t,n){var a=(e.pageX-w.left-_)*(1/l)*q;a+=C[t],$(n).css("left",a)})}function r(e){$(".screen").each(function(t,n){$(n).css("left",100*(-e+t)+"%")}),$(".breadcrumb .dot.selected").removeClass("selected"),$(".breadcrumb .dot").eq(e).addClass("selected")}function s(e,a){if(e&&null!==a){var o=parseInt(e.closest(".screen").attr("id"),10);if(o!==a){var i=t(e),r=$(".screen#"+o+" .item").length;setTimeout(function(){for(var e=i;e<=r;e+=1){var a=$(".screen#"+o+' .item[pos="'+e+'"]');if(0!==a.length){var s=t(a);a.attr("pos",s-1),a.hasClass("dragging")||n(a)}}},300),e.attr("pos",$(".screen#"+a+" .item").length),e.appendTo(".screen#"+a+" .apps"),Y=t($(".dragging"))}}}function c(e){var a=$(".dragging").closest(".screen").attr("id"),o=Math.round((e.pageX-w.left-O)*(1/l)),i=Math.round((e.pageY-w.top-P)*(1/l));$(".dragging").css({left:o,top:i});var c=(i+p)/m;c=Math.max(Math.floor(c),0);var u=e.pageX>Math.round(w.right),d=e.pageX<Math.round(w.left);u&&!x?(x=!0,k=setTimeout(function(){v+=1,v=Math.min(Math.max(v,0),2),r(v),s($(".dragging"),v),x=!1},500)):d&&!y?(y=!0,I=setTimeout(function(){v-=1,v=Math.min(Math.max(v,0),2),r(v),s($(".dragging"),v),y=!1},500)):u||d||(x=!1,y=!1,clearTimeout(k),clearTimeout(I)),$(".screen#"+a+" .item:not(.dragging)").each(function(e,i){var r=$(i),s=t(r),u=parseInt(r.css("left"),10),d=Math.floor(s/4),l=o>u+f&&Y<s,g=o<u-f&&Y>s;if(c===d&&(l||g)){var m=s-Y,p=Y,v=s;if(Y>s)for(var h=p;h>=v;h-=1){var C=$(".screen#"+a+' .item[pos="'+h+'"]'),b=t(C);C.attr("pos",b+1),C.hasClass("dragging")||n(C)}else if(s>Y)for(var T=p;T<=v;T+=1){var M=$(".screen#"+a+' .item[pos="'+T+'"]'),x=t(M);M.attr("pos",x-1),M.hasClass("dragging")||n(M)}Y+=m,$(".dragging").attr("pos",Y)}})}function u(e){var t='<div id="'+(e+4)+'" pos="'+e+'" class="item anim" style="left:'+e%4*g+"px; top: "+Math.floor(e/4)*m+'px;"><div class="item-anim"><div class="icon" style="background-image: url(img/'+h[e+4].img+')" data-name="'+h[e+4].name+'" data-cat="'+h[e+4].cat+'"></div></div>';$(".screen#0 .apps").append(t),setTimeout(function(){$(".item#"+(e+4)).removeClass("anim")},800),e<h.length-5&&setTimeout(function(){u(e+1)},50)}function d(){b=!1,T=!1,M=!1,C=[],n($(".dragging")),clearTimeout(X),$(".dragging").removeClass("dragging"),clearTimeout(j),B&&B.removeClass("highlight-group"),R=!1,$(".open").removeClass("open"),$(".blur").removeClass("blur")}var l=.5,g=180,m=188,f=10,p=20,v=0,h=[],C=[],b=!1,T=!1,M=!1,x=!1,y=!1,w=void 0,X=void 0,j=void 0,k=void 0,I=void 0,B=void 0,R=void 0,O=void 0,P=void 0,Y=void 0,_=void 0,q=void 0;$(e.document).ready(function(){$(".phone").css("transform","scale("+l+")"),w=$(".apps")[0].getBoundingClientRect(),$.ajax({url:"apps.json",success:function(e){h=e;for(var t=0;t<4;t+=1)$(".dock .apps").append('<div id="'+t+'" pos="'+(t+24)+'" class="item anim" style="left:'+(t+24)%4*g+'px; top: 20px;"><div class="item-anim"><div class="icon" style="background-image: url(img/'+h[t].img+')" data-name="'+h[t].name+'" data-cat="'+h[t+4].cat+'"></div></div>');u(0)}})}),$(e.window).on("resize",function(){w=$(".apps")[0].getBoundingClientRect()}),$(e.document).on("mousedown",".item",function(e){return b=!0,$(".container").hasClass("draggable")?o(e):X=setTimeout(function(){b&&($(".container").addClass("draggable"),o(e))},1e3),!1}),$(e.document).on("mousedown",".screens",function(e){_=Math.round(e.pageX-w.left),M=!0,$(".screen").removeClass("transition"),$(".screen").each(function(e,t){C.push(parseInt($(t).css("left"),10))})}),$(e.document).on("mouseup",function(){if(R)a();else if(M){$(".screen").addClass("transition");var e=parseInt($(".screen#0").css("left"),10)-C[0];e>200?v-=1:e<-200&&(v+=1),v=Math.min(Math.max(v,0),2),r(v)}d()}),$(e.document).on("mouseenter",".item",function(e){T&&(j=setTimeout(function(){B=$(e.target).closest(".item"),B.addClass("highlight-group"),R=!0},300))}),$(e.document).on("mouseleave",".item",function(e){var t=$(e.target).closest(".item");T&&!t.hasClass("dragging")&&(clearTimeout(j),B&&(B.removeClass("highlight-group"),R=!1))}),$(e.document).on("click",".main-button",function(){d(),$(".container").removeClass("draggable")}),$(e.document).on("click",".group",function(e){$(e.currentTarget).toggleClass("open"),$(".container img.bg").addClass("blur"),$(".item:not(.open)").each(function(e,t){$(t).addClass("blur")})}),$(e.document).on("mousemove",function(e){T?c(e):M&&i(e)})}).call(t,n(0))}]);