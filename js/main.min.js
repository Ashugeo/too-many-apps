!function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){function t(e){return parseInt(e.attr("pos"),10)}function n(e){var n=t(e);n>=24&&n<=27?e.css({left:n%4*f,top:"20px"}):e.css({left:n%4*f,top:Math.floor(n/4)*p})}function a(){if(q.addClass("group"),y=$(".dragging"),!q.find(".item-anim").attr("data-name")){var e=y.find(".icon").attr("data-cat");q.find(".item-anim").attr("data-name",e)}var a=y.find(".icon");a.attr("id",y.attr("id")),q.find(".item-anim").append(a),y.remove();for(var i=t(y),r=$(".item").length,o=i;o<=r;o+=1){var s=$(".screen#"+C+' .item[pos="'+o+'"]');if(0!==s.length){var c=t(s);s.attr("pos",c-1),n(s)}}}function i(e){$(".screen").each(function(t,n){$(n).css("left",100*(-e+t)+"%")}),$(".breadcrumb .dot.selected").removeClass("selected"),$(".breadcrumb .dot").eq(e).addClass("selected")}function r(){$(".screens").append('<div class="screen transition" id="'+b+'"><div class="apps"></div></div>'),b+=1,$(".breadcrumb").append('<div class="dot"></div>')}function o(){var e=0;for($(".screen").each(function(t,n){0===$(n).find(".item").length&&($(n).remove(),b-=1,e+=1),$(n).attr("id",t-e)});0===$(".screen#"+C+" .item").length;)C-=1;i(C),$(".breadcrumb").empty();for(var t=0;t<b;t+=1)$(".breadcrumb").append('<div class="dot"></div>');$(".breadcrumb .dot").eq(C).addClass("selected")}function s(e){y=!0,Y=e.pageX-$(e.currentTarget)[0].getBoundingClientRect().left,_=e.pageY-$(e.currentTarget)[0].getBoundingClientRect().top,z=t($(e.currentTarget).closest(".item")),$(e.currentTarget).closest(".item").addClass("dragging"),$(".screen:last-child .item").length>0&&r()}function c(e){A=0===C&&e.pageX-j.left>F?.2:C===parseInt($(".screen:last-child").attr("id"),10)&&e.pageX-j.left<F?.2:1,$(".screen").each(function(t,n){var a=(e.pageX-j.left-F)*(1/m)*A;a+=M[t],$(n).css("left",a)})}function d(e,a){if(e&&null!==a){var i=parseInt(e.closest(".screen").attr("id"),10);if(i!==a){var r=t(e),o=$(".screen#"+i+" .item").length;setTimeout(function(){for(var e=r;e<=o;e+=1){var a=$(".screen#"+i+' .item[pos="'+e+'"]');if(0!==a.length){var s=t(a);a.attr("pos",s-1),a.hasClass("dragging")||n(a)}}},300),e.attr("pos",$(".screen#"+a+" .item").length),e.appendTo(".screen#"+a+" .apps"),z=t($(".dragging"))}}}function u(e){var a=$(".dragging").closest(".screen").attr("id"),r=Math.round((e.pageX-j.left-Y)*(1/m)),o=Math.round((e.pageY-j.top-_)*(1/m));$(".dragging").css({left:r,top:o});var s=(o+h)/p;s=Math.max(Math.floor(s),0);var c=e.pageX>Math.round(j.right),u=e.pageX<Math.round(j.left);c&&!X?(X=!0,R=setTimeout(function(){C+=1,C=Math.min(Math.max(C,0),b-1),i(C),d($(".dragging"),C),X=!1},500)):u&&!I?(I=!0,O=setTimeout(function(){C-=1,C=Math.min(Math.max(C,0),b-1),i(C),d($(".dragging"),C),I=!1},500)):c||u||(X=!1,I=!1,clearTimeout(R),clearTimeout(O)),$(".screen#"+a+" .item:not(.dragging)").each(function(e,i){var o=$(i),c=t(o),d=parseInt(o.css("left"),10),u=Math.floor(c/4),l=r>d+v&&z<c,g=r<d-v&&z>c;if(s===u&&(l||g)){var m=c-z,f=z,p=c;if(z>c)for(var h=f;h>=p;h-=1){var b=$(".screen#"+a+' .item[pos="'+h+'"]'),C=t(b);b.attr("pos",C+1),b.hasClass("dragging")||n(b)}else if(c>z)for(var T=f;T<=p;T+=1){var M=$(".screen#"+a+' .item[pos="'+T+'"]'),x=t(M);M.attr("pos",x-1),M.hasClass("dragging")||n(M)}z+=m,$(".dragging").attr("pos",z)}})}function l(e){var t='<div id="'+(e+4)+'" pos="'+e+'" class="item anim" style="left:'+e%4*f+"px; top: "+Math.floor(e/4)*p+'px;"><div class="item-anim"><div class="icon" style="background-image: url(img/'+T[e+4].img+')" data-name="'+T[e+4].name+'" data-cat="'+T[e+4].cat+'"></div></div>';$(".screen#0 .apps").append(t),setTimeout(function(){$(".item#"+(e+4)).removeClass("anim")},800),e<T.length-5&&setTimeout(function(){l(e+1)},50)}function g(){x=!1,y=!1,w=!1,M=[],n($(".dragging")),clearTimeout(k),$(".dragging").removeClass("dragging"),clearTimeout(B),q&&q.removeClass("highlight-group"),P=!1,$(".open").removeClass("open"),$(".blur").removeClass("blur")}var m=.5,f=180,p=188,v=10,h=20,b=2,C=0,T=[],M=[],x=!1,y=!1,w=!1,X=!1,I=!1,j=void 0,k=void 0,B=void 0,R=void 0,O=void 0,q=void 0,P=void 0,Y=void 0,_=void 0,z=void 0,F=void 0,A=void 0;$(e.document).ready(function(){$(".phone").css("transform","scale("+m+")"),j=$(".apps")[0].getBoundingClientRect(),$.ajax({url:"apps.json",success:function(e){T=e;for(var t=0;t<4;t+=1)$(".dock .apps").append('<div id="'+t+'" pos="'+(t+24)+'" class="item anim" style="left:'+(t+24)%4*f+'px; top: 20px;"><div class="item-anim"><div class="icon" style="background-image: url(img/'+T[t].img+')" data-name="'+T[t].name+'" data-cat="'+T[t+4].cat+'"></div></div>');l(0)}})}),$(e.window).on("resize",function(){j=$(".apps")[0].getBoundingClientRect()}),$(e.document).on("mousedown",".item",function(e){return x=!0,$(".container").hasClass("draggable")?s(e):k=setTimeout(function(){x&&($(".container").addClass("draggable"),s(e))},1e3),!1}),$(e.document).on("mousedown",".screens",function(e){F=Math.round(e.pageX-j.left),w=!0,$(".screen").removeClass("transition"),$(".screen").each(function(e,t){M.push(parseInt($(t).css("left"),10))})}),$(e.document).on("mouseup",function(){if(P)a();else if(w){$(".screen").addClass("transition");var e=parseInt($(".screen#0").css("left"),10)-M[0];e>200?C-=1:e<-200&&(C+=1),C=Math.min(Math.max(C,0),b-1),i(C)}g()}),$(e.document).on("mouseenter",".item",function(e){y&&(B=setTimeout(function(){q=$(e.target).closest(".item"),q.addClass("highlight-group"),P=!0},300))}),$(e.document).on("mouseleave",".item",function(e){var t=$(e.target).closest(".item");y&&!t.hasClass("dragging")&&(clearTimeout(B),q&&(q.removeClass("highlight-group"),P=!1))}),$(e.document).on("click",".main-button",function(){o(),g(),$(".container").removeClass("draggable")}),$(e.document).on("click",".group",function(e){$(e.currentTarget).toggleClass("open"),$(".container img.bg").addClass("blur"),$(".item:not(.open)").each(function(e,t){$(t).addClass("blur")})}),$(e.document).on("mousemove",function(e){y?u(e):w&&c(e)})}).call(t,n(0))}]);