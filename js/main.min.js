!function(t){function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:a})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=1)}([function(t,n){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){"use strict";(function(t){function n(t){return parseInt(t.attr("pos"),10)}function e(t){var e=n(t);e>=24&&e<=27?t.css({left:e%4*s,top:Math.floor(e/4)*c+42}):t.css({left:e%4*s,top:Math.floor(e/4)*c})}function a(){if(f.addClass("group"),l=$(".dragging"),!f.find(".item-anim").attr("data-name")){var t=l.find(".icon").attr("data-cat");f.find(".item-anim").attr("data-name",t)}var a=l.find(".icon");a.attr("id",l.attr("id")),f.find(".item-anim").append(a),l.remove();for(var o=n(l),i=n($(".item:last-child")),r=o;r<=i;r+=1){var s=$('.item[pos="'+r+'"]'),c=n(s);s.attr("pos",c-1),e(s)}}function o(t){l=!0,h=t.pageX-$(t.currentTarget)[0].getBoundingClientRect().left,C=t.pageY-$(t.currentTarget)[0].getBoundingClientRect().top,b=n($(t.currentTarget)),$(t.currentTarget).addClass("dragging")}function i(t){$(".apps").append('<div id="'+(t+4)+'" pos="'+t+'" class="item" style="left:'+t%4*s+"px; top: "+Math.floor(t/4)*c+'px;"><div class="item-anim"><div class="icon" style="background-image: url(img/'+u[t+4].img+')" data-name="'+u[t+4].name+'" data-cat="'+u[t+4].cat+'"></div></div>'),t<u.length-5&&setTimeout(function(){i(t+1)},50)}function r(){d=!1,l=!1,e($(".dragging")),clearTimeout(m),$(".dragging").removeClass("dragging"),clearTimeout(p),f&&f.removeClass("highlight-group"),v=!1,$(".open").removeClass("open"),$(".blur").removeClass("blur")}var s=180,c=188,u=[],d=!1,l=!1,g=void 0,m=void 0,p=void 0,f=void 0,v=void 0,h=void 0,C=void 0,b=void 0;$(t.document).ready(function(){$(".phone").css("transform","scale(0.2)"),g=$(".apps")[0].getBoundingClientRect(),$.ajax({url:"apps.json",success:function(t){u=t;for(var n=0;n<4;n+=1)$(".apps").append('<div id="'+n+'" pos="'+(n+24)+'" class="item" style="left:'+(n+24)%4*s+"px; top: "+(Math.floor((n+24)/4)*c+42)+'px;"><div class="item-anim"><div class="icon" style="background-image: url(img/'+u[n].img+')" data-name="'+u[n].name+'" data-cat="'+u[n+4].cat+'"></div></div>');i(0)}})}),$(t.window).on("resize",function(){g=$(".apps")[0].getBoundingClientRect()}),$(t.document).on("mousedown",".item",function(t){d=!0,$(".container").hasClass("draggable")?o(t):m=setTimeout(function(){d&&($(".container").addClass("draggable"),o(t))},1e3)}),$(t.document).on("mouseup",function(){v&&a(),r()}),$(t.document).on("mouseenter",".item",function(t){l&&(p=setTimeout(function(){f=$(t.target).closest(".item"),f.addClass("highlight-group"),v=!0},300))}),$(t.document).on("mouseleave",".item",function(t){var n=$(t.target).closest(".item");l&&!n.hasClass("dragging")&&(clearTimeout(p),f&&(f.removeClass("highlight-group"),v=!1))}),$(t.document).on("click",".main-button",function(){r(),$(".container").removeClass("draggable")}),$(t.document).on("click",".group",function(t){$(t.currentTarget).toggleClass("open"),$(".container img.bg").addClass("blur"),$(".item:not(.open)").each(function(t,n){$(n).addClass("blur")})}),$(t.document).on("mousemove",function(t){if(l){var a=5*(t.pageX-g.left-h),o=5*(t.pageY-g.top-C);$(".dragging").css({left:a,top:o});var i=(o-g.top)/c;i=Math.max(Math.floor(i),0),$(".item").each(function(t,o){var r=$(o),s=n(r),u=r[0].getBoundingClientRect().left,d=r[0].getBoundingClientRect().top,l=(5*d-g.top+20)/c;l=Math.max(Math.floor(l),0),console.log(i,l);var m=a>u+10&&b<s,p=a<u-10&&b>s;if(i===l&&(m||p)){var f=s-b,v=b,h=s;if(b>s)for(var C=v;C>=h;C-=1){var x=$('.item[pos="'+C+'"]'),T=n(x);x.attr("pos",T+1),x.hasClass("dragging")||e(x)}else if(s>b)for(var y=v;y<=h;y+=1){var M=$('.item[pos="'+y+'"]'),w=n(M);M.attr("pos",w-1),M.hasClass("dragging")||e(M)}b+=f,$(".dragging").attr("pos",b)}})}})}).call(n,e(0))}]);