!function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){function t(e){return parseInt(e.attr("pos"),10)}function n(e){var n=t(e);n>=24&&n<=27?e.css({left:n%4*p,top:"20px"}):e.css({left:n%4*p,top:Math.floor(n/4)*v})}function a(){if(Y.addClass("group"),X=$(".dragging"),!Y.find(".item-anim").attr("data-name")){var e=X.find(".icon").attr("data-cat");Y.find(".item-anim").attr("data-name",e)}var a=X.find(".icon");a.attr("id",X.attr("id")),Y.find(".item-anim").append(a),X.remove();for(var i=t(X),o=$(".item").length,r=i;r<=o;r+=1){var s=$(".screen#"+M+' .item[pos="'+r+'"]');if(0!==s.length){var c=t(s);s.attr("pos",c-1),n(s)}}}function i(e){$(".screen").each(function(t,n){$(n).css("left",100*(-e+t)+"%")}),$(".breadcrumb .dot.selected").removeClass("selected"),$(".breadcrumb .dot").eq(e).addClass("selected")}function o(){$(".screens").append('<div class="screen transition" id="'+T+'"><div class="apps"></div></div>'),T+=1,$(".breadcrumb").append('<div class="dot"></div>')}function r(){var e=0;for($(".screen").each(function(t,n){0===$(n).find(".item").length&&($(n).remove(),T-=1,e+=1),$(n).attr("id",t-e)});0===$(".screen#"+M+" .item").length;)M-=1;i(M),$(".breadcrumb").empty();for(var t=0;t<T;t+=1)$(".breadcrumb").append('<div class="dot"></div>');$(".breadcrumb .dot").eq(M).addClass("selected")}function s(e){X=!0,z=e.pageX-$(e.currentTarget)[0].getBoundingClientRect().left,F=e.pageY-$(e.currentTarget)[0].getBoundingClientRect().top,A=t($(e.currentTarget).closest(".item")),$(e.currentTarget).closest(".item").addClass("dragging"),$(".screen:last-child .item").length>0&&o()}function c(e){E=0===M&&e.pageX-B.left>D?.2:M===parseInt($(".screen:last-child").attr("id"),10)&&e.pageX-B.left<D?.2:1,$(".screen").each(function(t,n){var a=(e.pageX-B.left-D)*(1/f)*E;a+=w[t],$(n).css("left",a)})}function d(e,a){if(e&&null!==a){var i=parseInt(e.closest(".screen").attr("id"),10);i!==a&&(e.appendTo(".container"),e.addClass("swiping"),setTimeout(function(){var o=t(e),r=$(".screen#"+i+" .item").length;setTimeout(function(){for(var e=o;e<=r;e+=1){var a=$(".screen#"+i+' .item[pos="'+e+'"]');if(0!==a.length){var s=t(a);a.attr("pos",s-1),a.hasClass("dragging")||n(a)}}},300),e.attr("pos",$(".screen#"+a+" .item").length),e.removeClass("swiping"),e.appendTo(".screen#"+a+" .apps"),A=t($(".dragging"))},300))}}function l(e){var a=$(".dragging").closest(".screen").attr("id"),o=Math.round((e.pageX-B.left-z)*(1/f)),r=Math.round((e.pageY-B.top-F)*(1/f));$(".dragging").css({left:o,top:r});var s=(r+C)/v;s=Math.max(Math.floor(s),0);var c=e.pageX>Math.round(B.right),l=e.pageX<Math.round(B.left);c&&!j?(j=!0,q=setTimeout(function(){M+=1,M=Math.min(Math.max(M,0),T-1),i(M),d($(".dragging"),M),j=!1},500)):l&&!k?(k=!0,P=setTimeout(function(){M-=1,M=Math.min(Math.max(M,0),T-1),i(M),d($(".dragging"),M),k=!1},500)):c||l||(j=!1,k=!1,clearTimeout(q),clearTimeout(P)),$(".screen#"+a+" .item:not(.dragging)").each(function(e,i){var r=$(i),c=t(r),d=parseInt(r.css("left"),10),l=Math.floor(c/4),u=o>d+h&&A<c,g=o<d-h&&A>c;if(s===l&&(u||g)){var m=c-A,f=A,p=c;if(A>c)for(var v=f;v>=p;v-=1){var C=$(".screen#"+a+' .item[pos="'+v+'"]'),b=t(C);C.attr("pos",b+1),C.hasClass("dragging")||n(C)}else if(c>A)for(var T=f;T<=p;T+=1){var M=$(".screen#"+a+' .item[pos="'+T+'"]'),x=t(M);M.attr("pos",x-1),M.hasClass("dragging")||n(M)}A+=m,$(".dragging").attr("pos",A)}})}function u(e,t){var n=x[e+1].icons,a='<div id="'+b+'" pos="'+t+'" class="item anim" style="left:'+t%4*p+"px; top: "+Math.floor(t/4)*v+'px;"><div class="item-anim"><div class="icon" style="background-image: url(img/'+n[t].img+')" data-name="'+n[t].name+'" data-cat="'+n[t].cat+'"></div></div>';$(".screen#"+e+" .apps").append(a),setTimeout(function(){console.log($('.item[id="'+b+'"]')),$(".item#"+b).removeClass("anim")},800),b+=1,t<n.length-1&&setTimeout(function(){u(e,t+1)},50)}function g(){for(var e=1;e<x.length;e+=1)console.log(e,x[e]),u(e-1,0)}function m(){y=!1,X=!1,I=!1,w=[],n($(".dragging")),clearTimeout(R),$(".dragging").removeClass("dragging"),clearTimeout(O),Y&&Y.removeClass("highlight-group"),_=!1,$(".open").removeClass("open"),$(".blur").removeClass("blur")}var f=.5,p=180,v=188,h=10,C=20,b=0,T=2,M=0,x=[],w=[],y=!1,X=!1,I=!1,j=!1,k=!1,B=void 0,R=void 0,O=void 0,q=void 0,P=void 0,Y=void 0,_=void 0,z=void 0,F=void 0,A=void 0,D=void 0,E=void 0;$(e.document).ready(function(){$(".phone").css("transform","scale("+f+")"),B=$(".apps")[0].getBoundingClientRect(),$.ajax({url:"apps.json",success:function(e){for(var t=e.screens[0].icons,n=0;n<x.length;n+=1)$(".dock .apps").append('<div id="'+b+'" pos="'+n+'" class="item anim" style="left:'+n%4*p+'px; top: 20px;"><div class="item-anim"><div class="icon" style="background-image: url(img/'+t[n].img+')" data-name="'+t[n].name+'" data-cat="'+t[n].cat+'"></div></div>'),b+=1;x=e.screens,g()}})}),$(e.window).on("resize",function(){B=$(".apps")[0].getBoundingClientRect()}),$(e.document).on("mousedown",".item",function(e){return y=!0,$(".container").hasClass("draggable")?s(e):R=setTimeout(function(){y&&($(".container").addClass("draggable"),s(e))},1e3),!1}),$(e.document).on("mousedown",".screens",function(e){D=Math.round(e.pageX-B.left),I=!0,$(".screen").removeClass("transition"),$(".screen").each(function(e,t){w.push(parseInt($(t).css("left"),10))})}),$(e.document).on("mouseup",function(){if(_)a();else if(I){$(".screen").addClass("transition");var e=parseInt($(".screen#0").css("left"),10)-w[0];e>200?M-=1:e<-200&&(M+=1),M=Math.min(Math.max(M,0),T-1),i(M)}m()}),$(e.document).on("mouseenter",".item",function(e){X&&(O=setTimeout(function(){Y=$(e.target).closest(".item"),Y.addClass("highlight-group"),_=!0},300))}),$(e.document).on("mouseleave",".item",function(e){var t=$(e.target).closest(".item");X&&!t.hasClass("dragging")&&(clearTimeout(O),Y&&(Y.removeClass("highlight-group"),_=!1))}),$(e.document).on("click",".main-button",function(){r(),m(),$(".container").removeClass("draggable")}),$(e.document).on("click",".group",function(e){$(e.currentTarget).toggleClass("open"),$(".container img.bg").addClass("blur"),$(".item:not(.open)").each(function(e,t){$(t).addClass("blur")})}),$(e.document).on("mousemove",function(e){X?l(e):I&&c(e)})}).call(t,n(0))}]);